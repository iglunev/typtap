(function(){'use strict';function l(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function m(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:l(a)}}var p="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,r="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function t(a,b){if(b){var c=p;a=a.split(".");for(var f=0;f<a.length-1;f++){var g=a[f];g in c||(c[g]={});c=c[g]}a=a[a.length-1];f=c[a];b=b(f);b!=f&&null!=b&&r(c,a,{configurable:!0,writable:!0,value:b})}}
t("Promise",function(a){function b(a){this.b=0;this.g=void 0;this.a=[];var b=this.c();try{a(b.resolve,b.reject)}catch(d){b.reject(d)}}function c(){this.a=null}function f(a){return a instanceof b?a:new b(function(b){b(a)})}if(a)return a;c.prototype.b=function(a){if(null==this.a){this.a=[];var b=this;this.c(function(){b.g()})}this.a.push(a)};var g=p.setTimeout;c.prototype.c=function(a){g(a,0)};c.prototype.g=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=[];for(var b=0;b<a.length;++b){var d=
a[b];a[b]=null;try{d()}catch(e){this.f(e)}}}this.a=null};c.prototype.f=function(a){this.c(function(){throw a;})};b.prototype.c=function(){function a(a){return function(e){d||(d=!0,a.call(b,e))}}var b=this,d=!1;return{resolve:a(this.A),reject:a(this.f)}};b.prototype.A=function(a){if(a===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.B(a);else{a:switch(typeof a){case "object":var h=null!=a;break a;case "function":h=!0;break a;default:h=!1}h?this.w(a):this.h(a)}};
b.prototype.w=function(a){var b=void 0;try{b=a.then}catch(d){this.f(d);return}"function"==typeof b?this.C(b,a):this.h(a)};b.prototype.f=function(a){this.j(2,a)};b.prototype.h=function(a){this.j(1,a)};b.prototype.j=function(a,b){if(0!=this.b)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.b);this.b=a;this.g=b;this.m()};b.prototype.m=function(){if(null!=this.a){for(var a=0;a<this.a.length;++a)k.b(this.a[a]);this.a=null}};var k=new c;b.prototype.B=function(a){var b=this.c();
a.l(b.resolve,b.reject)};b.prototype.C=function(a,b){var d=this.c();try{a.call(b,d.resolve,d.reject)}catch(e){d.reject(e)}};b.prototype.then=function(a,c){function d(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(G){h(G)}}:b}var e,h,H=new b(function(a,b){e=a;h=b});this.l(d(a,e),d(c,h));return H};b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.l=function(a,b){function d(){switch(e.b){case 1:a(e.g);break;case 2:b(e.g);break;default:throw Error("Unexpected state: "+
e.b);}}var e=this;null==this.a?k.b(d):this.a.push(d)};b.resolve=f;b.reject=function(a){return new b(function(b,d){d(a)})};b.race=function(a){return new b(function(b,d){for(var e=m(a),c=e.next();!c.done;c=e.next())f(c.value).l(b,d)})};b.all=function(a){var c=m(a),d=c.next();return d.done?f([]):new b(function(a,b){function e(b){return function(d){h[b]=d;q--;0==q&&a(h)}}var h=[],q=0;do h.push(void 0),q++,f(d.value).l(e(h.length-1),b),d=c.next();while(!d.done)})};return b});
function u(){u=function(){};p.Symbol||(p.Symbol=v)}function w(a,b){this.a=a;r(this,"description",{configurable:!0,writable:!0,value:b})}w.prototype.toString=function(){return this.a};var v=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new w("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();
function x(){u();var a=p.Symbol.iterator;a||(a=p.Symbol.iterator=p.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&r(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return y(l(this))}});x=function(){}}function y(a){x();a={next:a};a[p.Symbol.iterator]=function(){return this};return a}function z(){this.f=!1;this.b=null;this.m=void 0;this.a=1;this.j=this.g=0;this.c=null}function A(a){if(a.f)throw new TypeError("Generator is already running");a.f=!0}
z.prototype.h=function(a){this.m=a};function C(a,b){a.c={s:b,v:!0};a.a=a.g||a.j}z.prototype.return=function(a){this.c={return:a};this.a=this.j};function D(a,b){a.a=5;return{value:b}}function E(a){a.a=0;a.g=0}function F(a){a.g=0;var b=a.c.s;a.c=null;return b}function I(a){this.a=new z;this.b=a}function J(a,b){A(a.a);var c=a.a.b;if(c)return K(a,"return"in c?c["return"]:function(a){return{value:a,done:!0}},b,a.a.return);a.a.return(b);return L(a)}
function K(a,b,c,f){try{var g=b.call(a.a.b,c);if(!(g instanceof Object))throw new TypeError("Iterator result "+g+" is not an object");if(!g.done)return a.a.f=!1,g;var k=g.value}catch(n){return a.a.b=null,C(a.a,n),L(a)}a.a.b=null;f.call(a.a,k);return L(a)}function L(a){for(;a.a.a;)try{var b=a.b(a.a);if(b)return a.a.f=!1,{value:b.value,done:!1}}catch(c){a.a.m=void 0,C(a.a,c)}a.a.f=!1;if(a.a.c){b=a.a.c;a.a.c=null;if(b.v)throw b.s;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function M(a){this.next=function(b){A(a.a);a.a.b?b=K(a,a.a.b.next,b,a.a.h):(a.a.h(b),b=L(a));return b};this.throw=function(b){A(a.a);a.a.b?b=K(a,a.a.b["throw"],b,a.a.h):(C(a.a,b),b=L(a));return b};this.return=function(b){return J(a,b)};x();this[Symbol.iterator]=function(){return this}}function N(a){function b(b){return a.next(b)}function c(b){return a.throw(b)}return new Promise(function(f,g){function k(a){a.done?f(a.value):Promise.resolve(a.value).then(b,c).then(k,g)}k(a.next())})}var O=this;
function P(a){function b(a){var b=this;this.b=this.u=this.o=0;this.c=[];this.i=a;this.context={H:function(a,d,c){return b.a(n(a,d),c)},I:function(a){return b.a(!1,a)},J:function(a,d,c){return b.a(!n(a,d),c)},K:function(a){return b.a(!0,a)},test:function(a,d,c){return b.test(a,d,c)}}}function c(){this.b=[]}c.prototype.a=function(a,b){a="number"===typeof b?Array(b+1).join(" ")+a:a;this.b.push(a)};c.prototype.start=function(){this.a("TAP version 13")};c.prototype.label=function(a){this.a("# "+a)};c.prototype.test=
function(a){this.a((a.o?"ok":"not ok")+" "+a.id+" "+a.description)};c.prototype.error=function(a){this.a("---",2);a instanceof Error?(this.a("name: "+a.name,4),this.a("message: "+a.message,4),this.a("stack: |-\n"+this.c(a.stack),4)):this.a("error: "+JSON.stringify(a),4);this.a("...",2)};c.prototype.flush=function(){console.log(this.b.join("\n"));this.b=[]};c.prototype.c=function(a){return(a?a:"").split("\n").map(function(a){return Array(7).join(" ")+a}).join("\n")};var f=Array.isArray,g=Object.keys,
k=Object.prototype.hasOwnProperty,n=function B(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){var c=f(a),d=f(b);if(c&&d){var e=a.length;if(e!=b.length)return!1;for(c=e;0!==c--;)if(!B(a[c],b[c]))return!1;return!0}if(c!=d)return!1;c=a instanceof Date;d=b instanceof Date;if(c!=d)return!1;if(c&&d)return a.getTime()==b.getTime();c=a instanceof RegExp;d=b instanceof RegExp;if(c!=d)return!1;if(c&&d)return a.toString()==b.toString();d=g(a);e=d.length;if(e!==g(b).length)return!1;for(c=
e;0!==c--;)if(!k.call(b,d[c]))return!1;for(c=e;0!==c--;)if(e=d[c],!B(a[e],b[e]))return!1;return!0}return a!==a&&b!==b};b.prototype.test=function(a,b,c){var d=this;this.c.push({description:a,L:function(){var e;return N(new M(new I(function(f){if(1==f.a)return d.i&&d.i.label(a),f.g=2,c&&"number"===typeof c.timeout?D(f,Promise.race([b(d.context),new Promise(function(a,b){setTimeout(function(){return b(Error("Timeout"))},c.timeout)})])):D(f,b(d.context));if(2!=f.a)return E(f);e=F(f);++d.u;d.i&&d.i.error(e);
f.a=0})))}})};b.prototype.a=function(a,b){a&&++this.o;this.i&&this.i.test({description:b?b:"",id:++this.b,o:a})};b.a=new b(new c);a.test=function(a,c){b.a.test(a,c)};a.F=b;a.D=c;Object.defineProperty(a,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?P(exports):"function"===typeof define&&define.G?define(["exports"],P):(O=O||self,P(O.a={}));}).call(this);
